(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{604:function(e,s,n){"use strict";n.r(s);var t=n(15),a=Object(t.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("作为webpack中的第一大插件html-webpack-plugin,大家应该或多或少的使用过，这个插件会根据你的模板代码，通过不同的模板引擎构建出对应的html,ejs甚至ftl文件，在标准的SPA中，该插件性能不会性能瓶颈，但是如果你使用的是多页面，该插件的构建速度绝对是地狱级别的，\n如，我只是简单修改了一个vue文件的一个文案，在阶段居然花费了16s，这大大减慢了开发效率，感受不到HMR的优势。\n我司有个用vue-cli搭建的多页面应用，随着不断的迭代，项目越来越大，导致开发的时候热更新特别慢，有时候能到到十六七秒，这样的很是影响开发效率，有时候还导致js内存溢出，直接退出编译。一脸蒙蔽的我赶紧掏出我的必杀技，百度、google一顿搜索，终于找到了我想要的答案，原来是html-webpack-plugin会对每个入口文件都执行一遍emit中所有的代码，然后发现已经有人帮我们造好了轮子")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("html-webpack-plugin-for-multihtml\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("github地址")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("https://github.com/daifee/html-webpack-plugin-for-multihtml\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("首先安装插件")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm i html-webpack-plugin-for-multihtml --save-dev\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("p",[e._v("修改配置代码")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const HtmlWebpackPlugin = require('html-webpack-plugin-for-multihtml');\n// 省略其他代码\n\nplugins:[\n  new HtmlWebpackPlugin({\n    template: filePath,\n    filename: `${filename}.html`,\n    chunks: ['manifest', 'vendor', filename],\n    inject: true,\n    multihtmlCache: true  // 增加该配置\n  })\n]\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br")])]),n("p",[e._v("升级完成后HMR的速度会得到很大的提升")])])}),[],!1,null,null,null);s.default=a.exports}}]);