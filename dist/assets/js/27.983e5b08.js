(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{617:function(s,t,a){"use strict";a.r(t);var e=a(15),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("a",{attrs:{href:"https://github.com/avwo/whistle",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub - avwo/whistle"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://wproxy.org/whistle/",target:"_blank",rel:"noopener noreferrer"}},[s._v("关于whistle "),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g  whistle \n\nw2 -h\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"启动-关闭"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动-关闭"}},[s._v("#")]),s._v(" 启动/关闭")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("w2 start -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8899")]),s._v("\n\n\nw2 stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://wproxy.org/whistle/options.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("更多命令"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"配置浏览器代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置浏览器代理"}},[s._v("#")]),s._v(" 配置浏览器代理")]),s._v(" "),a("p",[s._v("在浏览器输入http://127.0.0.1:8899/ 就可以打开whistle抓包的配置界面")]),s._v(" "),a("p",[s._v("但是如果我们需要代理浏览器的请求，需要安装浏览器插件"),a("a",{attrs:{href:"https://github.com/FelisCatus/SwitchyOmega",target:"_blank",rel:"noopener noreferrer"}},[s._v("SwitchyOmega"),a("OutboundLink")],1),s._v(",安装陈宫后，在插件上点击>选项->情景模式->新建情景模式->情景模式名称whistle->选择代理服务器选项->点击创建。")]),s._v(" "),a("p",[s._v("配置代理协议->选择HTTP->代理服务器->127.0.0.1->代理端口->8899")]),s._v(" "),a("p",[s._v("点击插件按钮，选择whistle，此时就完成了代理的设置，此时在我们的浏览器上访问http://local.whistlejs.com/就可以访问whistle的配置页面了。")]),s._v(" "),a("h3",{attrs:{id:"手机调试本地页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手机调试本地页面"}},[s._v("#")]),s._v(" 手机调试本地页面")]),s._v(" "),a("blockquote",[a("p",[s._v("手机和电脑需要在同一个局域网")])]),s._v(" "),a("p",[s._v("在手机上配置代理代理到电脑的ip,端口为whistle的端口（8899）")]),s._v(" "),a("p",[s._v("在whistle的配置页面新建规则（rules）,起一个名字")]),s._v(" "),a("p",[s._v("规则里面配置")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("https://test.xxx.com/XXX local.dev.com:8080/XXX \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("前面为测试环境的访问地址，后面是本地的地址、端口、路径")])]),s._v(" "),a("p",[s._v("规则配置完毕，双击此规则可以对此规则进行开启和关闭")]),s._v(" "),a("p",[s._v("测试手机访问测试环境地址，就访问了本地的页面，这样可以在手机端调试一些测试环境的bug.")]),s._v(" "),a("h3",{attrs:{id:"拦截响应、更改数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拦截响应、更改数据"}},[s._v("#")]),s._v(" 拦截响应、更改数据")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("新建一个values(名字随便test.json)")]),s._v(" "),a("blockquote",[a("p",[s._v("values是一段key:value格式的数据")])])]),s._v(" "),a("li",[a("p",[s._v("编辑values")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bizCode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bizMsg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"success"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"result"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"num"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"success"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"调用成功"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("新建规则（名字homePage）,编辑规则")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("https://test.test.com/api/xxx resBody://"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("test.json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("resBody 响应体协议 指向的是values的test.json  "),a("a",{attrs:{href:"https://wproxy.org/whistle/rules",target:"_blank",rel:"noopener noreferrer"}},[s._v("更多协议"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("此时本地请求接口，数据就会本替换成我们的test.json里面的数据了")])])}),[],!1,null,null,null);t.default=n.exports}}]);